[toc]

# CNN 模型分析

> 使用Python第三方库`numpy`编写卷积神经网络(CNN)模型，模型主要结构如下：
>
> 1. 卷积层
> 2. 池化层
> 3. 全连接层
> 4. Softmax层
>
> 

## 代码改进方案

1. 增加mini_batch处理，提高运行效率；
2. Softmax层计算梯度并更新；
3. 增加修正线性单元(ReLU)，防止梯度消失；
4. 增加零填充；
5. 使用独热向量编码，便于计算误差；
6. 循环结果可以使用生成器存储；
7. 



## 创新点

1. 将特征图以列表形式存储，与卷积核作用时可以利用矩阵乘法，提高运行效率，便于mini_batch操作；
2. 池化层中得到的最大值可以在图像上表示为1，再与扩展维度的输出矩阵进行Hadamard积，便于反向传播的计算；
3. 使用全连接层进行降维处理，提高模型精度；
4. 每一迭代期后相应减小学习率，提高模型训练效果；
5. 

## 需要注意的问题

2. 注意各层之间输入输出流的维数，尤其是多层之间通道数改变的情况；
3. 选取的`batch_size`必须整除训练数据大小，否则会报错；
3. 循环返回值的缩进要注意，否则会导致数据不完整而报错；
4. 矩阵乘积运算注意对哪个矩阵进行转置；
5. 

