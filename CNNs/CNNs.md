# CNN

## 准备工作

### 导入numpy库及数据集处理库

### 生成特征图(返回为生成器)

- 用于卷积运算

### 格式化训练及测试数据(MNIST数据集)

- 像素值转换为[-.5, .5]
- 图像转换为(28, 28)形式

## 模型构建

### 卷积层

- 初始化参数

	- 设定卷积核通道数(kernel_num)
	- 设定卷积核大小(kernel_size)、步长(stride)和填充(pad)
	- 随机(random)初始化卷积核

- 前向传播

	- 卷积运算

		- 特征图转化为一维向量形式便于离散卷积运算

	- 输出矩阵

- 反向传播

	- 传入参数：学习率(lr)
	- 梯度计算
	- 梯度更新

### 池化层

- 前向传播

	- 遍历特征图
	- 取出特征图最大值
	- 记录最大值索引位置
	- 生成池化后的输出

- 反向传播

	- 将特征图按原值扩充
	- 将非最大值位置置0

### 全连接层(可选)

- 前向传播
- 反向传播

### Softmax层

- 前向传播

	- 计算前面各层预测的损失值
- 子主题 3
- 反向传播

## 模型训练

### 实例化类、确定初始参数

### 循环(迭代)训练模型

### shuffle输入数据

### 逐层前向传播

### 计算损失梯度后更新权重(反向传播)

## 模型测试

### 应用训练后的权重进行前向传播(计算模型准确率)

